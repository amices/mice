<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Box-and-whisker plot of observed and imputed data — bwplot.mids • mice</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>



<meta property="og:title" content="Box-and-whisker plot of observed and imputed data — bwplot.mids" />
<meta property="og:description" content="Plotting methods for imputed data using lattice. bwplot
produces box-and-whisker plots. The function
automatically separates the observed and imputed data. The
functions extend the usual features of lattice." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mice</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">3.13.15</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/overview.html">Overview</a>
    </li>
    <li>
      <a href="../articles/oldfriends.html">Help for old friends</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/amices/mice/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Box-and-whisker plot of observed and imputed data</h1>
    <small class="dont-index">Source: <a href='https://github.com/amices/mice/blob/master/R/bwplot.R'><code>R/bwplot.R</code></a></small>
    <div class="hidden name"><code>bwplot.mids.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Plotting methods for imputed data using <span class="pkg">lattice</span>. <code>bwplot</code>
produces box-and-whisker plots. The function
automatically separates the observed and imputed data. The
functions extend the usual features of <span class="pkg">lattice</span>.</p>
    </div>

    <pre class="usage"><span class='co'># S3 method for mids</span>
<span class='fu'>bwplot</span><span class='op'>(</span>
  <span class='va'>x</span>,
  <span class='va'>data</span>,
  na.groups <span class='op'>=</span> <span class='cn'>NULL</span>,
  groups <span class='op'>=</span> <span class='cn'>NULL</span>,
  as.table <span class='op'>=</span> <span class='cn'>TRUE</span>,
  theme <span class='op'>=</span> <span class='fu'><a href='mice.theme.html'>mice.theme</a></span><span class='op'>(</span><span class='op'>)</span>,
  mayreplicate <span class='op'>=</span> <span class='cn'>TRUE</span>,
  allow.multiple <span class='op'>=</span> <span class='cn'>TRUE</span>,
  outer <span class='op'>=</span> <span class='cn'>TRUE</span>,
  drop.unused.levels <span class='op'>=</span> <span class='fu'>lattice</span><span class='fu'>::</span><span class='fu'><a href='https://rdrr.io/pkg/lattice/man/lattice.options.html'>lattice.getOption</a></span><span class='op'>(</span><span class='st'>"drop.unused.levels"</span><span class='op'>)</span>,
  <span class='va'>...</span>,
  subscripts <span class='op'>=</span> <span class='cn'>TRUE</span>,
  subset <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>A <code>mids</code> object, typically created by <code><a href='mice.html'>mice()</a></code> or
<code><a href='mice.mids.html'>mice.mids()</a></code>.</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>Formula that selects the data to be plotted.  This argument
follows the <span class="pkg">lattice</span> rules for <em>formulas</em>, describing the primary
variables (used for the per-panel display) and the optional conditioning
variables (which define the subsets plotted in different panels) to be used
in the plot.</p>
<p>The formula is evaluated on the complete data set in the <code>long</code> form.
Legal variable names for the formula include <code><a href='https://rdrr.io/r/base/names.html'>names(x$data)</a></code> plus the
two administrative factors <code>.imp</code> and <code>.id</code>.</p>
<p><b>Extended formula interface:</b> The primary variable terms (both the LHS
<code>y</code> and RHS <code>x</code>) may consist of multiple terms separated by a
&#8216;+&#8217; sign, e.g., <code>y1 + y2 ~ x | a * b</code>.  This formula would be
taken to mean that the user wants to plot both <code>y1 ~ x | a * b</code> and
<code>y2 ~ x | a * b</code>, but with the <code>y1 ~ x</code> and <code>y2 ~ x</code> in
<em>separate panels</em>. This behavior differs from standard <span class="pkg">lattice</span>.
<em>Only combine terms of the same type</em>, i.e. only factors or only
numerical variables. Mixing numerical and categorical data occasionally
produces odds labeling of vertical axis.</p>
<p>For convenience, in <code><a href='stripplot.mids.html'>stripplot()</a></code> and <code>bwplot</code> the formula
<code>y~.imp</code> may be abbreviated as <code>y</code>. This applies only to a single
<code>y</code>, and does not (yet) work for <code>y1+y2~.imp</code>.</p></td>
    </tr>
    <tr>
      <th>na.groups</th>
      <td><p>An expression evaluating to a logical vector indicating
which two groups are distinguished (e.g. using different colors) in the
display. The environment in which this expression is evaluated in the
response indicator <code><a href='https://rdrr.io/r/base/NA.html'>is.na(x$data)</a></code>.</p>
<p>The default <code>na.group = NULL</code> contrasts the observed and missing data
in the LHS <code>y</code> variable of the display, i.e. groups created by
<code><a href='https://rdrr.io/r/base/NA.html'>is.na(y)</a></code>. The expression <code>y</code> creates the groups according to
<code><a href='https://rdrr.io/r/base/NA.html'>is.na(y)</a></code>. The expression <code>y1 &amp; y2</code> creates groups by
<code>is.na(y1) &amp; is.na(y2)</code>, and <code>y1 | y2</code> creates groups as
<code>is.na(y1) | is.na(y2)</code>, and so on.</p></td>
    </tr>
    <tr>
      <th>groups</th>
      <td><p>This is the usual <code>groups</code> arguments in <span class="pkg">lattice</span>. It
differs from <code>na.groups</code> because it evaluates in the completed data
<code><a href='https://rdrr.io/r/base/data.frame.html'>data.frame(complete(x, "long", inc=TRUE))</a></code> (as usual), whereas
<code>na.groups</code> evaluates in the response indicator. See
<code><a href='xyplot.mids.html'>xyplot</a></code> for more details. When both <code>na.groups</code> and
<code>groups</code> are specified, <code>na.groups</code> takes precedence, and
<code>groups</code> is ignored.</p></td>
    </tr>
    <tr>
      <th>as.table</th>
      <td><p>See <code><a href='https://rdrr.io/pkg/lattice/man/xyplot.html'>xyplot</a></code>.</p></td>
    </tr>
    <tr>
      <th>theme</th>
      <td><p>A named list containing the graphical parameters. The default
function <code>mice.theme</code> produces a short list of default colors, line
width, and so on. The extensive list may be obtained from
<code>trellis.par.get()</code>. Global graphical parameters like <code>col</code> or
<code>cex</code> in high-level calls are still honored, so first experiment with
the global parameters. Many setting consists of a pair. For example,
<code>mice.theme</code> defines two symbol colors. The first is for the observed
data, the second for the imputed data. The theme settings only exist during
the call, and do not affect the trellis graphical parameters.</p></td>
    </tr>
    <tr>
      <th>mayreplicate</th>
      <td><p>A logical indicating whether color, line widths, and so
on, may be replicated. The graphical functions attempt to choose
"intelligent" graphical parameters. For example, the same color can be
replicated for different element, e.g. use all reds for the imputed data.
Replication may be switched off by setting the flag to <code>FALSE</code>, in order
to allow the user to gain full control.</p></td>
    </tr>
    <tr>
      <th>allow.multiple</th>
      <td><p>See <code><a href='https://rdrr.io/pkg/lattice/man/xyplot.html'>xyplot</a></code>.</p></td>
    </tr>
    <tr>
      <th>outer</th>
      <td><p>See <code><a href='https://rdrr.io/pkg/lattice/man/xyplot.html'>xyplot</a></code>.</p></td>
    </tr>
    <tr>
      <th>drop.unused.levels</th>
      <td><p>See <code><a href='https://rdrr.io/pkg/lattice/man/xyplot.html'>xyplot</a></code>.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Further arguments, usually not directly processed by the
high-level functions documented here, but instead passed on to other
functions.</p></td>
    </tr>
    <tr>
      <th>subscripts</th>
      <td><p>See <code><a href='https://rdrr.io/pkg/lattice/man/xyplot.html'>xyplot</a></code>.</p></td>
    </tr>
    <tr>
      <th>subset</th>
      <td><p>See <code><a href='https://rdrr.io/pkg/lattice/man/xyplot.html'>xyplot</a></code>.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The high-level functions documented here, as well as other high-level
Lattice functions, return an object of class <code>"trellis"</code>.  The
<code><a href='https://rdrr.io/pkg/lattice/man/update.trellis.html'>update</a></code> method can be used to
subsequently update components of the object, and the
<code><a href='https://rdrr.io/pkg/lattice/man/print.trellis.html'>print</a></code> method (usually called by default)
will plot it on an appropriate plotting device.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The argument <code>na.groups</code> may be used to specify (combinations of)
missingness in any of the variables. The argument <code>groups</code> can be used
to specify groups based on the variable values themselves. Only one of both
may be active at the same time. When both are specified, <code>na.groups</code>
takes precedence over <code>groups</code>.</p>
<p>Use the <code>subset</code> and <code>na.groups</code> together to plots parts of the
data. For example, select the first imputed data set by by
<code>subset=.imp==1</code>.</p>
<p>Graphical parameters like <code>col</code>, <code>pch</code> and <code>cex</code> can be
specified in the arguments list to alter the plotting symbols. If
<code>length(col)==2</code>, the color specification to define the observed and
missing groups. <code>col[1]</code> is the color of the 'observed' data,
<code>col[2]</code> is the color of the missing or imputed data. A convenient color
choice is <code>col=mdc(1:2)</code>, a transparent blue color for the observed
data, and a transparent red color for the imputed data. A good choice is
<code>col=mdc(1:2), pch=20, cex=1.5</code>. These choices can be set for the
duration of the session by running <code><a href='mice.theme.html'>mice.theme()</a></code>.</p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>The first two arguments (<code>x</code> and <code>data</code>) are reversed
compared to the standard Trellis syntax implemented in <span class="pkg">lattice</span>. This
reversal was necessary in order to benefit from automatic method dispatch.</p>
<p>In <span class="pkg">mice</span> the argument <code>x</code> is always a <code>mids</code> object, whereas
in <span class="pkg">lattice</span> the argument <code>x</code> is always a formula.</p>
<p>In <span class="pkg">mice</span> the argument <code>data</code> is always a formula object, whereas in
<span class="pkg">lattice</span> the argument <code>data</code> is usually a data frame.</p>
<p>All other arguments have identical interpretation.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Sarkar, Deepayan (2008) <em>Lattice: Multivariate Data
Visualization with R</em>, Springer.</p>
<p>van Buuren S and Groothuis-Oudshoorn K (2011). <code>mice</code>: Multivariate
Imputation by Chained Equations in <code>R</code>. <em>Journal of Statistical
Software</em>, <b>45</b>(3), 1-67. <a href='https://www.jstatsoft.org/v45/i03/'>https://www.jstatsoft.org/v45/i03/</a></p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='mice.html'>mice</a></code>, <code><a href='xyplot.mids.html'>xyplot</a></code>, <code><a href='densityplot.mids.html'>densityplot</a></code>,
<code><a href='stripplot.mids.html'>stripplot</a></code>, <code>lattice</code> for an overview of the
package, as well as <code><a href='https://rdrr.io/pkg/lattice/man/xyplot.html'>bwplot</a></code>,
<code><a href='https://rdrr.io/pkg/lattice/man/panel.xyplot.html'>panel.bwplot</a></code>,
<code><a href='https://rdrr.io/pkg/lattice/man/print.trellis.html'>print.trellis</a></code>,
<code><a href='https://rdrr.io/pkg/lattice/man/trellis.par.get.html'>trellis.par.set</a></code></p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Stef van Buuren</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='va'>imp</span> <span class='op'>&lt;-</span> <span class='fu'><a href='mice.html'>mice</a></span><span class='op'>(</span><span class='va'>boys</span>, maxit <span class='op'>=</span> <span class='fl'>1</span><span class='op'>)</span>
</div><div class='output co'>#&gt; 
#&gt;  iter imp variable
#&gt;   1   1  hgt  wgt  bmi  hc  gen  phb  tv  reg
#&gt;   1   2  hgt  wgt  bmi  hc  gen  phb  tv  reg
#&gt;   1   3  hgt  wgt  bmi  hc  gen  phb  tv  reg
#&gt;   1   4  hgt  wgt  bmi  hc  gen  phb  tv  reg
#&gt;   1   5  hgt  wgt  bmi  hc  gen  phb  tv  reg</div><div class='input'>
<span class='co'>### box-and-whisker plot per imputation of all numerical variables</span>
<span class='fu'>bwplot</span><span class='op'>(</span><span class='va'>imp</span><span class='op'>)</span>
</div><div class='img'><img src='bwplot.mids-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'>### tv (testicular volume), conditional on region</span>
<span class='fu'>bwplot</span><span class='op'>(</span><span class='va'>imp</span>, <span class='va'>tv</span> <span class='op'>~</span> <span class='va'>.imp</span> <span class='op'>|</span> <span class='va'>reg</span><span class='op'>)</span>
</div><div class='img'><img src='bwplot.mids-2.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'>### same data, organized in a different way</span>
<span class='fu'>bwplot</span><span class='op'>(</span><span class='va'>imp</span>, <span class='va'>tv</span> <span class='op'>~</span> <span class='va'>reg</span> <span class='op'>|</span> <span class='va'>.imp</span>, theme <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='img'><img src='bwplot.mids-3.png' alt='' width='700' height='433' /></div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Stef van Buuren, Karin Groothuis-Oudshoorn.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '491b6c2ead7f15b8c26c513b923dd6a0',
    indexName: 'mice',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


