<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Quick selection of predictors from the data — quickpred • mice</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>



<meta property="og:title" content="Quick selection of predictors from the data — quickpred" />
<meta property="og:description" content="Selects predictors according to simple statistics" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mice</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">3.14.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/overview.html">Overview</a>
    </li>
    <li>
      <a href="../articles/oldfriends.html">Help for old friends</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/amices/mice/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Quick selection of predictors from the data</h1>
    <small class="dont-index">Source: <a href='https://github.com/amices/mice/blob/master/R/quickpred.R'><code>R/quickpred.R</code></a></small>
    <div class="hidden name"><code>quickpred.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Selects predictors according to simple statistics</p>
    </div>

    <pre class="usage"><span class='fu'>quickpred</span><span class='op'>(</span>
  <span class='va'>data</span>,
  mincor <span class='op'>=</span> <span class='fl'>0.1</span>,
  minpuc <span class='op'>=</span> <span class='fl'>0</span>,
  include <span class='op'>=</span> <span class='st'>""</span>,
  exclude <span class='op'>=</span> <span class='st'>""</span>,
  method <span class='op'>=</span> <span class='st'>"pearson"</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>Matrix or data frame with incomplete data.</p></td>
    </tr>
    <tr>
      <th>mincor</th>
      <td><p>A scalar, numeric vector (of size <code>ncol(data))</code> or numeric
matrix (square, of size <code>ncol(data)</code> specifying the minimum
threshold(s) against which the absolute correlation in the data is compared.</p></td>
    </tr>
    <tr>
      <th>minpuc</th>
      <td><p>A scalar, vector (of size <code>ncol(data))</code> or matrix (square,
of size <code>ncol(data)</code> specifying the minimum threshold(s) for the
proportion of usable cases.</p></td>
    </tr>
    <tr>
      <th>include</th>
      <td><p>A string or a vector of strings containing one or more
variable names from <code>names(data)</code>. Variables specified are always
included as a predictor.</p></td>
    </tr>
    <tr>
      <th>exclude</th>
      <td><p>A string or a vector of strings containing one or more
variable names from <code>names(data)</code>. Variables specified are always
excluded as a predictor.</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>A string specifying the type of correlation. Use
<code>'pearson'</code> (default), <code>'kendall'</code> or <code>'spearman'</code>. Can be
abbreviated.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A square binary matrix of size <code>ncol(data)</code>.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>This function creates a predictor matrix using the variable selection
procedure described in Van Buuren et al.~(1999, p.~687--688). The function is
designed to aid in setting up a good imputation model for data with many
variables.</p>
<p>Basic workings: The procedure calculates for each variable pair (i.e.
target-predictor pair) two correlations using all available cases per pair.
The first correlation uses the values of the target and the predictor
directly. The second correlation uses the (binary) response indicator of the
target and the values of the predictor. If the largest (in absolute value) of
these correlations exceeds <code>mincor</code>, the predictor will be added to the
imputation set.  The default value for <code>mincor</code> is 0.1.</p>
<p>In addition, the procedure eliminates predictors whose proportion of usable
cases fails to meet the minimum specified by <code>minpuc</code>. The default value
is 0, so predictors are retained even if they have no usable case.</p>
<p>Finally, the procedure includes any predictors named in the <code>include</code>
argument (which is useful for background variables like age and sex) and
eliminates any predictor named in the <code>exclude</code> argument. If a variable
is listed in both <code>include</code> and <code>exclude</code> arguments, the
<code>include</code> argument takes precedence.</p>
<p>Advanced topic: <code>mincor</code> and <code>minpuc</code> are typically specified as
scalars, but vectors and squares matrices of appropriate size will also work.
Each element of the vector corresponds to a row of the predictor matrix, so
the procedure can effectively differentiate between different target
variables. Setting a high values for can be useful for auxiliary, less
important, variables. The set of predictor for those variables can remain
relatively small. Using a square matrix extends the idea to the columns, so
that one can also apply cellwise thresholds.</p>
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p><code>quickpred()</code> uses <code><a href='https://rdrr.io/r/base/data.matrix.html'>data.matrix</a></code> to convert
factors to numbers through their internal codes. Especially for unordered
factors the resulting quantification may not make sense.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>van Buuren, S., Boshuizen, H.C., Knook, D.L. (1999) Multiple
imputation of missing blood pressure covariates in survival analysis.
<em>Statistics in Medicine</em>, <b>18</b>, 681--694.</p>
<p>van Buuren, S. and Groothuis-Oudshoorn, K. (2011). <code>mice</code>: Multivariate
Imputation by Chained Equations in <code>R</code>. <em>Journal of Statistical
Software</em>, <b>45</b>(3), 1-67. doi: <a href='https://doi.org/10.18637/jss.v045.i03'>10.18637/jss.v045.i03</a></p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='mice.html'>mice</a></code>, <code><a href='mids-class.html'>mids</a></code></p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Stef van Buuren, Aug 2009</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='r-in'><span class='co'># default: include all predictors with absolute correlation over 0.1</span></span>
<span class='r-in'><span class='fu'>quickpred</span><span class='op'>(</span><span class='va'>nhanes</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>     age bmi hyp chl</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> age   0   0   0   0</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> bmi   1   0   1   1</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> hyp   1   0   0   1</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> chl   1   1   1   0</span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># all predictors with absolute correlation over 0.4</span></span>
<span class='r-in'><span class='fu'>quickpred</span><span class='op'>(</span><span class='va'>nhanes</span>, mincor <span class='op'>=</span> <span class='fl'>0.4</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>     age bmi hyp chl</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> age   0   0   0   0</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> bmi   0   0   0   0</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> hyp   1   0   0   1</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> chl   1   0   1   0</span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># include age and bmi, exclude chl</span></span>
<span class='r-in'><span class='fu'>quickpred</span><span class='op'>(</span><span class='va'>nhanes</span>, mincor <span class='op'>=</span> <span class='fl'>0.4</span>, inc <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"age"</span>, <span class='st'>"bmi"</span><span class='op'>)</span>, exc <span class='op'>=</span> <span class='st'>"chl"</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>     age bmi hyp chl</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> age   0   0   0   0</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> bmi   1   0   0   0</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> hyp   1   1   0   0</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> chl   1   1   1   0</span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># only include predictors with at least 30% usable cases</span></span>
<span class='r-in'><span class='fu'>quickpred</span><span class='op'>(</span><span class='va'>nhanes</span>, minpuc <span class='op'>=</span> <span class='fl'>0.3</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>     age bmi hyp chl</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> age   0   0   0   0</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> bmi   1   0   0   0</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> hyp   1   0   0   0</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> chl   1   1   1   0</span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># use low threshold for bmi, and high thresholds for hyp and chl</span></span>
<span class='r-in'><span class='va'>pred</span> <span class='op'>&lt;-</span> <span class='fu'>quickpred</span><span class='op'>(</span><span class='va'>nhanes</span>, mincor <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>0</span>, <span class='fl'>0.1</span>, <span class='fl'>0.5</span>, <span class='fl'>0.5</span><span class='op'>)</span><span class='op'>)</span></span>
<span class='r-in'><span class='va'>pred</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>     age bmi hyp chl</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> age   0   0   0   0</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> bmi   1   0   1   1</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> hyp   1   0   0   0</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> chl   1   0   0   0</span>
<span class='r-in'></span>
<span class='r-in'><span class='co'># use it directly from mice</span></span>
<span class='r-in'><span class='va'>imp</span> <span class='op'>&lt;-</span> <span class='fu'><a href='mice.html'>mice</a></span><span class='op'>(</span><span class='va'>nhanes</span>, pred <span class='op'>=</span> <span class='fu'>quickpred</span><span class='op'>(</span><span class='va'>nhanes</span>, minpuc <span class='op'>=</span> <span class='fl'>0.25</span>, include <span class='op'>=</span> <span class='st'>"age"</span><span class='op'>)</span><span class='op'>)</span></span>
<span class='r-out co'><span class='r-pr'>#&gt;</span> </span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>  iter imp variable</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   1   1  bmi  hyp  chl</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   1   2  bmi  hyp  chl</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   1   3  bmi  hyp  chl</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   1   4  bmi  hyp  chl</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   1   5  bmi  hyp  chl</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   2   1  bmi  hyp  chl</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   2   2  bmi  hyp  chl</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   2   3  bmi  hyp  chl</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   2   4  bmi  hyp  chl</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   2   5  bmi  hyp  chl</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   3   1  bmi  hyp  chl</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   3   2  bmi  hyp  chl</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   3   3  bmi  hyp  chl</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   3   4  bmi  hyp  chl</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   3   5  bmi  hyp  chl</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   4   1  bmi  hyp  chl</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   4   2  bmi  hyp  chl</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   4   3  bmi  hyp  chl</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   4   4  bmi  hyp  chl</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   4   5  bmi  hyp  chl</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   5   1  bmi  hyp  chl</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   5   2  bmi  hyp  chl</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   5   3  bmi  hyp  chl</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   5   4  bmi  hyp  chl</span>
<span class='r-out co'><span class='r-pr'>#&gt;</span>   5   5  bmi  hyp  chl</span>
</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Stef van Buuren, Karin Groothuis-Oudshoorn.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '491b6c2ead7f15b8c26c513b923dd6a0',
    indexName: 'mice',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>



  </body>
</html>


