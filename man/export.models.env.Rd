% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/models.R
\name{export.models.env}
\alias{export.models.env}
\title{Convert Nested Environments to a List of m-Lists}
\usage{
export.models.env(env, m = NULL)
}
\arguments{
\item{env}{The root environment containing task environments.}

\item{m}{The number of imputations (assumes all tasks have the same \code{m}).}
}
\value{
A named list where:
\itemize{
\item Each element corresponds to a task (e.g., "train" variables).
\item Each task is stored as a vector of \code{m} lists (one per imputation iteration).
\item Each list contains the objects stored for that imputation.
}
}
\description{
Recursively converts a three-level environment structure into a user-friendly
list where the imputation level is stored as a vector of length \code{m}.
}
\examples{
# Create a nested environment structure
models_env <- new.env()
models_env$a <- new.env()
models_env$a$`1` <- new.env()
models_env$a$`1`$model <- "Model A1"
models_env$a$`2` <- new.env()
models_env$a$`2`$model <- "Model A2"
models_env$b <- new.env()
models_env$b$`1` <- new.env()
models_env$b$`1`$model <- "Model B1"

# Convert to a list
models_list <- mice:::export.models.env(models_env, m = 2)
print(models_list)

}
